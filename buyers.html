<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Join Buyers List • Zona Desert</title>

  <style>
    :root{
      --bg:#ffffff;
      --ink:#0f172a;            /* near-black */
      --muted:#6b7280;          /* gray-500 */
      --line:#e5e7eb;           /* gray-200 */
      --card:#f9fafb;           /* gray-50 */
      --brand:#6366F1;          /* zona purple */
      --brand-ink:#4338CA;      /* deep purple */
      --ok:#10b981;
      --warn:#f59e0b;
      --err:#ef4444;
      --radius:18px;
      --shadow:0 10px 30px rgba(0,0,0,.08);
    }

    /* ------- Base ------- */
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.45 "Inter","Helvetica Neue",Arial,sans-serif}
    .wrap{max-width:1100px;margin:auto;padding:24px 18px 80px}
    h1{font-weight:800;font-size:clamp(1.6rem,2.8vw,2.6rem);line-height:1.15;margin:4px 0 18px}
    p.lede{color:var(--muted);margin:0 0 18px}
    .grid{display:grid;gap:22px}
    @media(min-width:900px){ .grid{grid-template-columns: 1.15fr .85fr; gap:30px } }

    /* ------- Card ------- */
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow)}
    .section{padding:18px 18px 8px;border-bottom:1px solid var(--line)}
    .section:last-child{border-bottom:0;padding-bottom:20px}
    .section h2{margin:0 0 8px;font-size:1rem;font-weight:800;letter-spacing:.02em}
    .hint{color:var(--muted);font-size:.9rem;margin-top:-2px}

    /* ------- Fields ------- */
    .row{display:grid;gap:14px}
    @media(min-width:700px){ .row.two{grid-template-columns: 1fr 1fr} }
    label{display:block;font-size:.88rem;font-weight:700;margin:8px 0 6px}
    .input, select, textarea{
      width:100%;border:1px solid var(--line);border-radius:12px;background:#fff;
      padding:14px 14px;font-size:1rem;outline:none;
      transition:border .15s, box-shadow .15s;
    }
    .input:focus, select:focus, textarea:focus{border-color:var(--brand);box-shadow:0 0 0 3px rgba(99,102,241,.15)}
    textarea{min-height:110px;resize:vertical}

    /* ------- Choice chips / checkbox buttons ------- */
    .chips{display:flex;flex-wrap:wrap;gap:10px}
    .chip{
      position:relative;display:inline-flex;align-items:center;gap:10px;
      padding:10px 14px;border:1px solid var(--line);border-radius:999px;background:#fff;
      cursor:pointer;font-weight:700;font-size:.95rem;user-select:none;
    }
    .chip input{position:absolute;opacity:0;pointer-events:none}
    .chip[data-single="1"] { border-radius:12px }
    .chip.is-on{border-color:var(--brand);background:rgba(99,102,241,.06);color:var(--brand-ink)}
    .chip .dot{width:8px;height:8px;border-radius:50%;background:var(--line)}
    .chip.is-on .dot{background:var(--brand)}

    /* ------- MultiSelect (States / Counties) ------- */
    .ms{position:relative}
    .ms-toggle{
      display:flex;justify-content:space-between;align-items:center;gap:10px;
      padding:12px 14px;border:1px solid var(--line);border-radius:12px;background:#fff;cursor:pointer
    }
    .ms-toggle span{color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .ms.open .ms-toggle{border-color:var(--brand);box-shadow:0 0 0 3px rgba(99,102,241,.15)}
    .ms-menu{
      position:absolute;left:0;right:0;top:calc(100% + 8px);z-index:20;background:#fff;
      border:1px solid var(--line);border-radius:14px;box-shadow:var(--shadow);padding:10px 10px 12px;display:none;
    }
    .ms.open .ms-menu{display:block}
    .ms-search{display:flex;align-items:center;border:1px solid var(--line);border-radius:999px;padding:8px 12px;margin:2px 2px 8px}
    .ms-search input{border:0;outline:none;width:100%;font-size:1rem}
    .ms-actions{display:flex;justify-content:space-between;align-items:center;margin:6px 4px 8px}
    .ms-actions .mini{font-size:.86rem;color:var(--brand-ink);background:transparent;border:0;cursor:pointer;font-weight:800}
    .ms-list{max-height:280px;overflow:auto;padding-right:6px}
    .ms-item{display:flex;align-items:center;gap:10px;padding:10px 8px;border-radius:10px;cursor:pointer}
    .ms-item:hover{background:var(--card)}
    .ms-item input{width:18px;height:18px}
    .ms-empty{color:var(--muted);padding:12px}

    /* ------- Footer Actions ------- */
    .actions{display:flex;gap:12px;align-items:center;justify-content:flex-end;padding:12px}
    .btn{
      border:0;border-radius:12px;padding:14px 18px;font-weight:800;cursor:pointer;font-size:1rem
    }
    .btn.primary{background:var(--brand);color:#fff}
    .btn.secondary{background:#fff;border:1px solid var(--line)}
    .err{color:var(--err);font-size:.9rem}

    /* ------- Page header ------- */
    .page-head{margin-bottom:14px}
    .kicker{font-size:.82rem;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);font-weight:800;margin:2px 0 6px}
    .subtle{color:var(--muted)}

    /* ------- Sticky mini notice after submit ------- */
    .toast{
      position:fixed;left:50%;bottom:20px;transform:translateX(-50%);
      background:#111;color:#fff;padding:12px 16px;border-radius:999px;box-shadow:var(--shadow);
      opacity:0;pointer-events:none;transition:opacity .2s, transform .2s;
    }
    .toast.show{opacity:1;transform:translateX(-50%) translateY(-4px)}

    /* ===== Right-column tidy layout ===== */
.grid-two{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px; /* space between fields */
}

.field .label{
  display:block;
  font-weight:600;
  margin-bottom:6px;
}

.select select,
.input,
textarea.input{
  width:100%;
}

/* Make Notes and actions span the full panel width */
.span-2{ grid-column: 1 / -1; }

/* Actions row: align to the right with spacing */
.actions{
  display:flex;
  justify-content:flex-end;
  gap:12px;
  padding-top:4px;
}

/* Button polish (uses your palette; these are minimal) */
.btn{ 
  border-radius:10px;
  padding:10px 16px;
  font-weight:700;
}
.btn-light{
  background:#fff;
  border:1px solid rgba(0,0,0,.12);
}
.btn-primary{
  background: var(--zona-purple, #6366F1);
  color:#fff;
  border:none;
}

/* Mobile stacking for the right column */
@media (max-width: 768px){
  .grid-two{
    grid-template-columns: 1fr;   /* one column */
    gap: 12px;
  }
  .actions{
    justify-content:stretch;
  }
  .actions .btn{ width:100%; }    /* full-width buttons on mobile */
}

/* Notes + Actions span both columns */
.span-2{ grid-column: 1 / -1; }

/* Button row */
.actions{
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding-top: 6px;
}

.btn{ border-radius: 10px; padding: 10px 16px; font-weight: 700; }
.btn-light{ background: #fff; border: 1px solid rgba(0,0,0,.12); }
.btn-primary{ background: var(--zona-purple, #6366F1); color: #fff; border: none; }

/* Mobile: stack the two selects, keep buttons full-width if desired */
@media (max-width: 768px){
  .row-two{ grid-template-columns: 1fr; }
  .actions .btn{ width: 100%; }
}
    /* Make controls fill their grid cells and prevent overflow clipping */
.row.two > div { min-width: 0; }                 /* important for full-width inputs in CSS Grid */
.row.two > div .input,
.row.two > div select { width: 100%; }           /* force selects/inputs to span the cell */
    
    body {
  background-color: #f9fafb; /* match Cash Offer background */
}
    .hero-box {
  background: #f7f8fb; /* light background like the Cash Offer page */
  padding: 2rem;
  border-radius: 12px;
  margin-bottom: 2rem;
  text-align: left;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.hero-box .kicker {
  font-size: 0.85rem;
  font-weight: 600;
  color: #888;
  text-transform: uppercase;
  margin-bottom: 0.5rem;
}

.hero-box h1 {
  font-size: 2rem;
  margin: 0;
}

.hero-box h1 .highlight {
  color: #5A57FF; /* your purple brand color */
}

.hero-box p {
  font-size: 1rem;
  color: #555;
  margin-top: 0.5rem;
}
    .hero-card {
  background: #f9fafb;       /* same as webform card background */
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  margin-bottom: 2rem;
}
    .section h3 {
  font-size: 1rem;  /* same size as Exit Strategies */
  font-weight: 600; /* make it bold like labels */
  margin-bottom: 0.5rem; /* control spacing */
}
    /* Unify card section heading sizes */
.card .section h2,
.card .section h3{
  font-size: 1.1rem !important;  /* match Exit Strategies */
  font-weight: 800;
  letter-spacing: .02em;
  margin: 0 0 8px;
}
    /* Brand color for section headers */
.card .section h2,
.card .section h3,
.card .section label.label-title {
  color: var(--brand, #6366F1);  /* fallback to Zona purple */
}
  </style>
</head>
<body>

  <!-- Header -->
<script src="assets/js/header.js"></script>

<main class="container">
  <div class="wrap">
    <div class="card section" style="margin-bottom:20px;">
  <div class="card hero-card">
  <h1>Join <span style="color:var(--brand)">Buyers List</span><span style="color:#000;">.</span></h1>
  <p class="subtle">Get vetted off-market deals delivered to your inbox. Local and nationwide opportunities.</p>
</div>

    <form id="buyersForm" class="grid" novalidate>
      <!-- everything that was already inside your form stays here unchanged -->

    <form id="buyersForm" class="grid" novalidate>
      <!-- ================= LEFT: Profile + Markets ================= -->
      <div class="card">
        <div class="section">
          <h2>Contact</h2>
          <div class="row two">
            <div>
              <label for="fullName">Full Name <span class="err" id="e_fullName"></span></label>
              <input id="fullName" name="fullName" class="input" autocomplete="name" required />
            </div>
            <div>
              <label for="company">Company / Entity (optional)</label>
              <input id="company" name="company" class="input" autocomplete="organization" />
            </div>
          </div>
          <div class="row two">
            <div>
              <label for="email">Email <span class="err" id="e_email"></span></label>
              <input id="email" name="email" type="email" class="input" autocomplete="email" required />
            </div>
            <div>
              <label for="phone">Phone <span class="err" id="e_phone"></span></label>
              <input id="phone" name="phone" class="input" inputmode="tel" autocomplete="tel" required />
            </div>
          </div>
        </div>

        <div class="section">
          <h2>Markets</h2>

          <!-- States -->
          <label>States<span class="err" id="e_states"></span></label>
          <div class="ms" id="msStates">
            <button type="button" class="ms-toggle"><span>Select states…</span>▾</button>
            <div class="ms-menu">
              <div class="ms-search"><input type="search" placeholder="Search states…" /></div>
              <div class="ms-actions">
                <button type="button" class="mini js-select-all">Select all</button>
                <button type="button" class="mini js-clear">Clear</button>
              </div>
              <div class="ms-list" role="listbox"></div>
            </div>
          </div>

          <!-- Counties -->
          <div style="height:12px"></div>
          <label>Counties</label>
          <div class="ms" id="msCounties">
            <button type="button" class="ms-toggle"><span>Select counties…</span>▾</button>
            <div class="ms-menu">
              <div class="ms-search"><input type="search" placeholder="Search counties…" /></div>
              <div class="ms-actions">
                <button type="button" class="mini js-select-all">Select all</button>
                <button type="button" class="mini js-clear">Clear</button>
              </div>
              <div class="ms-list" role="listbox"></div>
            </div>
          </div>

          <div style="height:12px"></div>
          <label for="marketNotes">Market Notes</label>
          <textarea id="marketNotes" name="marketNotes" class="input" placeholder="Add any helpful market details…"></textarea>
        </div>
      </div>

      <!-- ================= RIGHT: Buy Box ================= -->
      <div class="card">
        <div class="section">
          <h2>Exit Strategies</h2>
          <div class="chips" id="exitStrategies">
            <!-- checkbox chips -->
            <label class="chip"><input type="checkbox" name="exit" value="Fix & Flip"><span class="dot"></span>Fix &amp; Flip</label>
            <label class="chip"><input type="checkbox" name="exit" value="Buy & Hold"><span class="dot"></span>Buy &amp; Hold</label>
            <label class="chip"><input type="checkbox" name="exit" value="BRRRR"><span class="dot"></span>BRRRR</label>
            <label class="chip"><input type="checkbox" name="exit" value="Short-term rental"><span class="dot"></span>Short-term rental</label>
          </div>
          <div class="err" id="e_exit" style="margin-top:6px"></div>
        </div>

        <div class="section">
          <h2>Tenant-Occupied?</h2>
          <div class="chips" id="tenant">
            <label class="chip" data-single="1"><input type="radio" name="tenant" value="Yes"><span class="dot"></span>Yes</label>
            <label class="chip" data-single="1"><input type="radio" name="tenant" value="No"><span class="dot"></span>No</label>
          </div>
        </div>

        <div class="section">
          <h2>Property Types</h2>
          <div class="chips" id="types">
            <label class="chip"><input type="checkbox" name="type" value="Single Family"><span class="dot"></span>Single Family</label>
            <label class="chip"><input type="checkbox" name="type" value="Multifamily 2-4"><span class="dot"></span>Multifamily 2-4</label>
            <label class="chip"><input type="checkbox" name="type" value="Multifamily 5+"><span class="dot"></span>Multifamily 5+</label>
            <label class="chip"><input type="checkbox" name="type" value="Land"><span class="dot"></span>Land</label>
          </div>
          <div class="err" id="e_types" style="margin-top:6px"></div>
        </div>

        <div class="section">
          <h2>Basic Criteria</h2>
          <div class="row two">
            <div>
              <label for="beds">Beds</label>
              <select id="beds" class="input">
                <option value="">Any</option>
                <option>1+</option><option>2+</option><option>3+</option><option>4+</option><option>5+</option>
              </select>
            </div>
            <div>
              <label for="baths">Baths</label>
              <select id="baths" class="input">
                <option value="">Any</option>
                <option>1+</option><option>1.5+</option><option>2+</option><option>3+</option>
              </select>
            </div>
          </div>

          <div class="row two">
            <div>
              <label for="sqft">Sqft</label>
              <select id="sqft" class="input">
                <option value="">Any</option>
                <option>0–1,000</option><option>1,000–1,500</option><option>1,500–2,000</option>
                <option>2,000–3,000</option><option>3,000+</option>
              </select>
            </div>
            <div>
              <label>Year Built</label>
              <div class="row two">
                <input id="yrMin" class="input" inputmode="numeric" placeholder="Min" />
                <input id="yrMax" class="input" inputmode="numeric" placeholder="Max" />
              </div>
            </div>
          </div>

          <!-- Price/rehab + deals/% in one tidy two-by-two grid -->
<div class="row two">
  <div>
    <label>Price Range</label>
    <div class="row two">
      <input id="priceMin" class="input" inputmode="numeric" placeholder="Min $" />
      <input id="priceMax" class="input" inputmode="numeric" placeholder="Max $" />
    </div>
  </div>

  <div>
    <label for="rehab">Rehab Scope</label>
    <select id="rehab" name="rehab" class="input">
      <option value="">Any</option>
      <option value="cosmetic">Cosmetic</option>
      <option value="light">Light</option>
      <option value="full_gut">Full gut</option>
      <option value="teardown">Tear-down</option>
    </select>
  </div>

  <div>
    <label for="dealsPerMonth">Deals per Month</label>
    <select id="dealsPerMonth" name="dealsPerMonth" class="input">
      <option value="">Any</option>
      <option value="1">1</option>
      <option value="2-3">2–3</option>
      <option value="4+">4+</option>
    </select>
  </div>

  <div>
    <label for="maxArv">% of ARV</label>
    <select id="maxArv" name="maxArv" class="input">
      <option value="">Any</option>
      <option value="60%">60%</option>
      <option value="65%">65%</option>
      <option value="70%">70%</option>
      <option value="75%">75%</option>
      <option value="80%">80%</option>
    </select>
  </div>
</div>

<!-- Notes (span full width) -->
<div class="field span-2">
  <label for="buyerNotes" class="label">Notes</label>
  <textarea id="buyerNotes" name="buyerNotes" class="input" rows="5" placeholder="Anything else we should know?"></textarea>
</div>

<!-- Actions -->
<div class="actions span-2">
  <button type="button" class="btn btn-light" id="resetBtn">Reset</button>
  <button type="submit" class="btn btn-primary">Join Buyers List</button>
</div>
    </form>
  </div>

  <div class="toast" id="toast">Saved! We’ll start matching deals to your buy box.</div>

  <script>
    /* =========================
       Minimal state + counties
       (Add more below — format is
        "STATE CODE": { name, counties: [...] })
       ========================= */
    const STATE_DATA = {
      AZ:{name:"Arizona", counties:["Maricopa","Pima","Pinal","Yavapai","Yuma","Mohave","Coconino","Navajo","Apache","Gila","Cochise","Santa Cruz","Graham","Greenlee","La Paz"]},
      CA:{name:"California", counties:["Los Angeles","San Diego","Orange","Riverside","San Bernardino","Santa Clara","Alameda","Sacramento","Contra Costa","Fresno","Kern","San Francisco","Ventura","San Mateo","Stanislaus"]},
      TX:{name:"Texas", counties:["Harris","Dallas","Tarrant","Bexar","Travis","Collin","Denton","Hidalgo","El Paso","Fort Bend","Montgomery","Williamson","Cameron","Nueces","Bell"]},
      FL:{name:"Florida", counties:["Miami-Dade","Broward","Palm Beach","Hillsborough","Orange","Pinellas","Duval","Lee","Polk","Brevard","Volusia","Sarasota","Manatee","Seminole","Osceola"]},
      GA:{name:"Georgia", counties:["Fulton","Gwinnett","Cobb","DeKalb","Clayton","Chatham","Cherokee","Forsyth","Henry","Hall","Richmond","Muscogee","Houston","Clarke","Bibb"]},
    };
    // To add more: STATE_DATA.NY = { name:"New York", counties:["Albany","Bronx", ...] };

    /* ========= helpers ========= */
    const $ = s => document.querySelector(s);
    const $$ = s => [...document.querySelectorAll(s)];
    const toast = (msg) => {
      const el = $("#toast"); el.textContent = msg || el.textContent;
      el.classList.add('show'); setTimeout(()=>el.classList.remove('show'), 2200);
    };

    /* ========= Chip toggles ========= */
    function wireChips(scope){
      scope.addEventListener('change', (e)=>{
        const label = e.target.closest('.chip');
        if(!label) return;
        if(label.dataset.single === "1"){
          // radio: turn off siblings
          label.parentElement.querySelectorAll('.chip').forEach(c=>c.classList.remove('is-on'));
        }
        if(e.target.checked){ label.classList.add('is-on'); }
        else { label.classList.remove('is-on'); }
      });
    }
    ["exitStrategies","tenant","types","maxArv","dealsPerMonth"]
      .forEach(id => wireChips(document.getElementById(id)));

    /* ========= Multiselect component ========= */
    function MultiSelect(root, { placeholder, items = [], onChange }){
      const toggle = root.querySelector('.ms-toggle');
      const menu = root.querySelector('.ms-menu');
      const list = root.querySelector('.ms-list');
      const search = root.querySelector('.ms-search input');
      const selectAllBtn = root.querySelector('.js-select-all');
      const clearBtn = root.querySelector('.js-clear');
      let selected = new Set();
      let filtered = [...items];

      const render = () => {
        list.innerHTML = "";
        if(!filtered.length){ list.innerHTML = `<div class="ms-empty">No matches</div>`; return; }
        filtered.forEach(({value,label})=>{
          const row = document.createElement('div');
          row.className = 'ms-item';
          row.innerHTML = `<input type="checkbox" value="${value}"><span>${label}</span>`;
          const cb = row.querySelector('input');
          cb.checked = selected.has(value);
          cb.addEventListener('change', ()=>{
            if(cb.checked) selected.add(value); else selected.delete(value);
            bubble();
          });
          row.addEventListener('click', (e)=>{ if(e.target.tagName!=="INPUT"){ cb.checked=!cb.checked; cb.dispatchEvent(new Event('change')); }});
          list.appendChild(row);
        });
        const count = selected.size;
        toggle.querySelector('span').textContent = count ? `${count} selected` : placeholder;
      };

      const bubble = () => {
        onChange && onChange([...selected]);
        render();
      };

      toggle.addEventListener('click', ()=> root.classList.toggle('open'));
      document.addEventListener('click', (e)=>{ if(!root.contains(e.target)) root.classList.remove('open'); });

      search.addEventListener('input', ()=>{
        const q = search.value.trim().toLowerCase();
        filtered = items.filter(it => it.label.toLowerCase().includes(q));
        render();
      });

      selectAllBtn.addEventListener('click', ()=>{
        filtered.forEach(it=> selected.add(it.value)); bubble();
      });
      clearBtn.addEventListener('click', ()=>{ selected.clear(); bubble(); });

      const api = {
        setItems(nextItems){ items = [...nextItems]; filtered = [...items]; selected.clear(); render(); },
        getSelected(){ return [...selected]; },
        setSelected(values){
          selected = new Set(values);
          render();
        }
      };
      render();
      return api;
    }

    /* ========= Build States selector ========= */
    const stateItems = Object.keys(STATE_DATA)
      .sort((a,b)=> STATE_DATA[a].name.localeCompare(STATE_DATA[b].name))
      .map(code => ({ value: code, label: STATE_DATA[code].name }));

    const msStates = MultiSelect(document.getElementById('msStates'), {
      placeholder: 'Select states…',
      items: stateItems,
      onChange: handleStatesChanged
    });

    /* ========= Counties selector ========= */
    const msCounties = MultiSelect(document.getElementById('msCounties'), {
      placeholder: 'Select counties…',
      items: []
    });

    function handleStatesChanged(codes){
      // Merge counties from selected state codes
      const merged = [];
      codes.forEach(code=>{
        const data = STATE_DATA[code];
        if(!data) return;
        data.counties.forEach(cty=>{
          merged.push({ value: code + "::" + cty, label: cty + " (" + data.name + ")" });
        });
      });
      merged.sort((a,b)=> a.label.localeCompare(b.label));
      msCounties.setItems(merged);
      // Clear previous county selections when states change
      msCounties.setSelected([]);
    }

    /* ========= Validation + Submit ========= */
    const form = document.getElementById('buyersForm');
    const eFull = document.getElementById('e_fullName');
    const eEmail = document.getElementById('e_email');
    const ePhone = document.getElementById('e_phone');
    const eStates = document.getElementById('e_states');
    const eExit = document.getElementById('e_exit');
    const eTypes = document.getElementById('e_types');

    function requireAtLeastOne(name){ return $$(`input[name="${name}"]:checked`).length > 0; }

    form.addEventListener('submit', (ev)=>{
      ev.preventDefault();
      // Reset errors
      [eFull,eEmail,ePhone,eStates,eExit,eTypes].forEach(el=> el.textContent = "");

      let ok = true;
      const fullName = $('#fullName').value.trim();
      const email = $('#email').value.trim();
      const phone = $('#phone').value.trim();

      if(!fullName){ eFull.textContent = " • required"; ok = false; }
      if(!email || !/^\S+@\S+\.\S+$/.test(email)){ eEmail.textContent = " • valid email required"; ok = false; }
      if(!phone){ ePhone.textContent = " • required"; ok = false; }

      const states = msStates.getSelected();
      if(states.length === 0){ eStates.textContent = " • select at least one state"; ok = false; }

      if(!requireAtLeastOne('exit')){ eExit.textContent = "Pick at least one strategy"; ok = false; }
      if(!requireAtLeastOne('type')){ eTypes.textContent = "Pick at least one type"; ok = false; }

      if(!ok) return;

      // Collect everything
      const payload = {
        fullName,
        company: $('#company').value.trim(),
        email, phone,
        markets: {
          states: states.map(c=> ({ code: c, name: STATE_DATA[c]?.name || c })),
          counties: msCounties.getSelected().map(v=>{
            const [code, county] = v.split('::');
            return { stateCode: code, state: STATE_DATA[code]?.name || code, county };
          }),
          notes: $('#marketNotes').value.trim()
        },
        buyBox: {
          exits: $$('input[name="exit"]:checked').map(i=>i.value),
          tenantOk: ($('input[name="tenant"]:checked')||{}).value || null,
          types: $$('input[name="type"]:checked').map(i=>i.value),
          beds: $('#beds').value || null,
          baths: $('#baths').value || null,
          sqft: $('#sqft').value || null,
          yearBuilt: { min: $('#yrMin').value || null, max: $('#yrMax').value || null },
          price: { min: $('#priceMin').value || null, max: $('#priceMax').value || null },
          rehab: $('#rehab').value || null,
maxARV: $('#maxArv').value || null,
dealsPerMonth: $('#dealsPerMonth').value || null,
notes: $('#buyerNotes').value.trim()
        }
      };

      // For now, just log + toast.
      console.log("Buyers submission:", payload);
      toast("Saved! We’ll start matching deals to your buy box.");

      // TODO: wire to your backend (Netlify Functions, Google Sheet, Airtable, etc.)
      // Example: fetch('/api/buyers', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) })
    });

    // reset
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      form.reset();
      // clear chips visual state
      $$('.chip').forEach(c=>{ c.classList.remove('is-on'); c.querySelector('input').checked=false; });
      // clear multiselects
      msStates.setSelected([]);
      msCounties.setItems([]); // blank until states picked
    });
  </script>
        
        <!-- Footer -->
<script src="assets/js/footer.js"></script>
        
</body>
</html>
